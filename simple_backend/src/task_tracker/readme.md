минус хранения состояния в оперативной памяти в том, что данные теряются при перезапуске программы
после исправления данные сохраняются в файле tasks.json и не исчезают при перезапуске

мы не избавились от хранения состояния, а изменили способ реализации с хранения в оперативной памяти на хранение в файле json

где можно хранить состояние:
оперативная память +легко реализовать -данные теряются при перезапуске
текстовый файл/жсон +легко реализовать -не подходит для большого объема данных
БД +надежно, большой функционал -нужен сервер
Кэш +быстро -данные могут быть удалены при достижении лимита памяти

В контексте данного проекта состояние гонки может возникнуть, если:
Два пользователя одновременно обращаются к API для изменения списка задач.
Один запрос читает задачи (например, через load_tasks), а другой в это время их обновляет (save_tasks).
Первый запрос завершает операцию на устаревших данных, что приводит к потере изменений второго запроса.

Решение проблемы:

Обновление через версионность данных
Jsonbin.io поддерживает версионность через хэдер X-Version-Match.
При записи данных указывается версия ресурса (например, текущая версия данных). Если версия изменится к моменту записи (т.е. другой клиент изменил данные), запись будет отклонена.
